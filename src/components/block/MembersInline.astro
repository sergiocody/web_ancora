---
import { Picture } from 'astro-imagetools/components';

interface Member {
  name: string;
  photo: string;
  role?: string;
}

interface Props {
  members?: Member[];
}

const { members = [] } = Astro.props;
---

{members && members.length > 0 && (
  <div class="members-inline my-8">
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 md:gap-6">
      {members.map((member) => (
        <div class="member-card-inline group">
          <div class="aspect-square overflow-hidden rounded-full shadow-md hover:shadow-xl transition-all duration-500">
            <Picture 
              src={member.photo}
              alt={member.name}
              attributes={{
                img: {
                  class: "w-full h-full object-cover object-center transform group-hover:scale-110 transition-transform duration-700 ease-out"
                }
              }}
            />
          </div>
          <div class="mt-3 text-center">
            <h3 class="font-semibold text-sm md:text-base text-slate-800 dark:text-slate-200 group-hover:text-primary transition-colors duration-300">
              {member.name}
            </h3>
            {member.role && (
              <p class="text-xs md:text-sm text-slate-500 dark:text-slate-400 mt-1">
                {member.role}
              </p>
            )}
          </div>
        </div>
      ))}
    </div>
  </div>
)}

<style>
  .member-card-inline {
    animation: fadeInUp 0.6s ease-out forwards;
    opacity: 0;
  }
  
  .member-card-inline:nth-child(1) { animation-delay: 0.05s; }
  .member-card-inline:nth-child(2) { animation-delay: 0.1s; }
  .member-card-inline:nth-child(3) { animation-delay: 0.15s; }
  .member-card-inline:nth-child(4) { animation-delay: 0.2s; }
  .member-card-inline:nth-child(5) { animation-delay: 0.25s; }
  .member-card-inline:nth-child(6) { animation-delay: 0.3s; }
  .member-card-inline:nth-child(7) { animation-delay: 0.35s; }
  .member-card-inline:nth-child(8) { animation-delay: 0.4s; }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
